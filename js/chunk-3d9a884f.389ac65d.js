(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3d9a884f"],{"0bbb":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"container px-8 px-lg-5"},[e("div",{staticClass:"row gx-8 gx-lg-5 justify-content-center"},[e("div",{staticClass:"col-md-10 col-lg-10 col-xl-10"},[t.errMessage?e("div",[t.errMessage?e("h1",{staticClass:"text-center err"},[t._v(t._s(t.errMessage))]):t._e()]):t._e(),t.errMessage||t.isProcessing?t._e():e("div",[e("favoriteCard",{attrs:{keywords:t.keywords},on:{deleteFavorite:t.deleteLikes}})],1)])])]),e("pagination",{attrs:{currentPage:t.currentPage,totalPage:t.totalPage}})],1)},r=[],i=function(){var t=this,e=t._self._c;return e("div",t._l(t.keywords,(function(s){return e("div",{key:s.Element.id},[e("div",{staticClass:"post-preview"},[e("div",{staticClass:"post-preview d-flex"},[e("span",{staticClass:"post-title"},[e("router-link",{staticClass:"post",attrs:{to:{name:"keywords articles",params:{id:s.Element.id}}}},[t._v(t._s(s.Element.name))])],1),e("a",{on:{click:function(e){return t.deleteFavorite(s.Element.id)}}},[e("i",{staticClass:"fa-solid fa-heart heart"})])]),e("hr",{staticClass:"my-4"})])])})),0)},n=[],o={props:{keywords:{type:Array,required:!0}},methods:{async deleteFavorite(t){this.$emit("deleteFavorite",t)}}},c=o,l=(s("c364"),s("2877")),u=Object(l["a"])(c,i,n,!1,null,null,null),d=u.exports,g=s("6407"),p=s("4cce"),v=s("2fa3"),h={components:{favoriteCard:d,pagination:g["a"]},data(){return{keywords:[],currentPage:1,totalPage:-1,errMessage:"",isProcessing:!0}},beforeRouteUpdate(t,e,s){const{id:a}=this.$route.params,{page:r=""}=t.query;this.fetchData({page:r,id:a}),s()},created(){const{id:t}=this.$route.params,{page:e=""}=this.$route.query;this.fetchData({page:e,id:t})},methods:{async fetchData({page:t,id:e}){try{const s=await p["a"].getFavorites({page:t,id:e}),{data:a}=s;if(200!==a.status)return 404===a.status?void(this.errMessage=a.message):void Object(v["b"])(a,this.$router,this.$route);this.keywords=a.data.likes,this.currentPage=Number(a.pagination.currentPage),this.totalPage=Number(a.pagination.totalPage),this.isProcessing=!1}catch(s){Object(v["b"])({status:500})}},async deleteLikes(t){try{this.isProcessing=!0;const e=await p["a"].deleteFavorite({id:t}),{data:s}=e;return 200!==s.status?(this.isProcessing=!1,void Object(v["b"])(s,this.$router)):(this.keywords=this.keywords.filter(e=>e.Element.id!==t),void(this.isProcessing=!1))}catch(e){this.isProcessing=!1,Object(v["b"])({status:500})}}}},P=h,f=(s("ce33"),Object(l["a"])(P,a,r,!1,null,null,null));e["default"]=f.exports},"0c2f":function(t,e,s){},6407:function(t,e,s){"use strict";var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"row mb-5 navbar mt-5"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"block-27"},[e("ul",[e("li",[t.previousPage?t._e():e("span",[t._v("<")]),t.previousPage?e("router-link",{staticClass:"link",attrs:{to:{name:t.$router.history.current.name,query:{page:t.previousPage}}}},[t._v("<")]):t._e()],1),t._l(t.listPage,(function(s){return e("li",{key:s,class:{active:t.currentPage===s}},[e("router-link",{staticClass:"link",attrs:{to:{name:t.$router.history.current.name,query:{page:s}}}},[t._v(t._s(s))])],1)})),e("li",{staticClass:"disabled",class:{disabled:t.currentPage===t.totalPage.length},attrs:{role:"button"}},[t.nextPage?t._e():e("span",[t._v(">")]),t.nextPage?e("router-link",{staticClass:"link",attrs:{to:{name:t.$router.history.current.name,query:{page:t.nextPage}}}},[t._v(">")]):t._e()],1)],2)])])])},r=[];s("14d9");const i=(t,e)=>{const s=[],a=Math.ceil(e/5),r=5*a<=t?5*a:t;for(let i=5*(a-1)+1;i<=r;i++)s.push(i);return s},n={listPage(t,e){return i(t,e)},previousPage(t){return t-1!==0?t-1:""},nextPage(t,e){return t!==e?t+1:""}};var o={props:{currentPage:{type:Number,default:1},totalPage:{type:Number,required:!0}},computed:{listPage(){return n.listPage(this.totalPage,this.currentPage)},previousPage(){return n.previousPage(this.currentPage)},nextPage(){return n.nextPage(this.currentPage,this.totalPage)}},created(){console.log(this.previousPage)}},c=o,l=(s("915e"),s("2877")),u=Object(l["a"])(c,a,r,!1,null,null,null);e["a"]=u.exports},"915e":function(t,e,s){"use strict";s("0c2f")},"94b3":function(t,e,s){},b9df:function(t,e,s){},c364:function(t,e,s){"use strict";s("b9df")},ce33:function(t,e,s){"use strict";s("94b3")}}]);
//# sourceMappingURL=chunk-3d9a884f.389ac65d.js.map