{"version":3,"sources":["webpack:///./src/views/notes.vue","webpack:///src/views/notes.vue","webpack:///./src/views/notes.vue?502d","webpack:///./src/views/notes.vue?e490","webpack:///./src/views/notes.vue?12bd"],"names":["render","_vm","this","_c","_self","errMessage","staticClass","_v","_s","_e","isProcessing","_l","notes","note","key","id","attrs","name","params","element_id","elementName","on","$event","addLike","directives","rawName","value","isFavorite","expression","deleteLike","isDeleting","deleteNote","_m","_f","createdAt","currentNote","content","domProps","target","composing","$set","isEditing","saveNote","editNote","currentPage","totalPage","staticRenderFns","components","pagination","data","beforeRouteUpdate","to","from","next","$route","page","query","fetchData","created","methods","res","userAPI","getNotes","status","message","errHandler","$router","Number","err","addFavorite","console","log","map","n","deleteFavorite","noteAPI","deleteNotes","filter","editNotes","filters","fromNow","datetime","moment","component"],"mappings":"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","file":"js/chunk-7d324d76.b04f3e87.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(_vm.errMessage)?_c('div',{staticClass:\"container\"},[(_vm.errMessage)?_c('h1',{staticClass:\"text-center err\"},[_vm._v(_vm._s(_vm.errMessage))]):_vm._e()]):_vm._e(),(!_vm.errMessage && !_vm.isProcessing)?_c('div',[_vm._l((_vm.notes),function(note){return _c('div',{key:note.id},[_c('div',{staticClass:\"px-10 px-lg-5\"},[_c('div',{staticClass:\"row gx-4 gx-lg-5 justify-content-center\"},[_c('div',{staticClass:\"col-md-10 col-lg-10 col-xl-10\"},[_c('div',{staticClass:\"post-preview d-flex justify-content-between\"},[_c('div',{staticClass:\"post-preview d-flex\"},[_c('span',{staticClass:\"post-title\"},[_c('router-link',{staticClass:\"post\",attrs:{\"to\":{name:'keywords articles',params:{id:note.element_id}}}},[_vm._v(_vm._s(note.elementName))])],1),_c('a',{attrs:{\"disabled\":_vm.isProcessing},on:{\"click\":function($event){return _vm.addLike(note.element_id)}}},[_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(!note.isFavorite),expression:\"!note.isFavorite\"}],staticClass:\"fa-regular fa-heart heart\"})]),_c('a',{attrs:{\"disabled\":_vm.isProcessing},on:{\"click\":function($event){return _vm.deleteLike(note.element_id)}}},[_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(note.isFavorite),expression:\"note.isFavorite\"}],staticClass:\"fa-solid fa-heart heart\"})])]),_c('div',{staticClass:\"close\"},[_c('button',{staticClass:\"btn-close\",attrs:{\"type\":\"button\",\"aria-label\":\"Close\",\"disabled\":_vm.isDeleting},on:{\"click\":function($event){return _vm.deleteNote(note)}}})])])])])]),_c('div',{staticClass:\"card frame my-3\"},[_c('div',{staticClass:\"d-flex card-body justify-content-between\"},[_c('div',{staticClass:\"content d-flex\"},[_vm._m(0,true),_c('div',{staticClass:\"author-content pl-4 ps-4\"},[_c('h5',{staticClass:\"mb-3 field card-subtitle\"},[_vm._v(_vm._s(_vm._f(\"fromNow\")(note.createdAt)))]),_c('h4',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentNote.id !== note.id),expression:\"currentNote.id !== note.id\"}],staticClass:\"mb-3 card-text\"},[_vm._v(_vm._s(note.content)+\" \")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.currentNote.content),expression:\"currentNote.content\"},{name:\"show\",rawName:\"v-show\",value:(_vm.currentNote.id === note.id),expression:\"currentNote.id === note.id\"}],staticClass:\"mb-3 card-text new-note\",attrs:{\"rows\":\"5\",\"type\":\"text\",\"required\":\"\",\"autofocus\":\"\",\"placeholder\":\"寫下筆記\"},domProps:{\"value\":(_vm.currentNote.content)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.currentNote, \"content\", $event.target.value)}}})])])]),_c('div',{staticClass:\"edit\"},[_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentNote.id === note.id),expression:\"currentNote.id === note.id\"}],staticClass:\"edit-button btn btn-outline-secondary mx-2\",attrs:{\"type\":\"button\",\"aria-label\":\"save\",\"disabled\":_vm.isEditing},on:{\"click\":function($event){return _vm.saveNote(note)}}},[_vm._v(\"儲存\")]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentNote.id !== note.id),expression:\"currentNote.id !== note.id\"}],staticClass:\"edit-button btn btn-outline-secondary\",attrs:{\"type\":\"button\",\"aria-label\":\"edit\"},on:{\"click\":function($event){return _vm.editNote(note)}}},[_vm._v(\"編輯\")])])]),_c('hr',{staticClass:\"my-4 horizon\"})])}),_c('pagination',{attrs:{\"currentPage\":_vm.currentPage,\"totalPage\":_vm.totalPage}})],2):_vm._e()])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"author-img\"},[_c('i',{staticClass:\"fa-regular fa-circle-user photo\"})])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n<div>\r\n  <div class=\"container\" v-if=\"errMessage\"><h1 class=\"text-center err\" v-if=\"errMessage\">{{ errMessage }}</h1></div>\r\n<div v-if=\"!errMessage && !isProcessing\">\r\n  <div v-for=\"note in notes\" :key=\"note.id\">\r\n    <div class=\"px-10 px-lg-5\">\r\n        <div class=\"row gx-4 gx-lg-5 justify-content-center\">\r\n            <div class=\"col-md-10 col-lg-10 col-xl-10 \" >\r\n              <div class=\"post-preview d-flex justify-content-between\">\r\n          <div class=\"post-preview d-flex \">\r\n          <span class=\"post-title\"><router-link :to=\"{name:'keywords articles',params:{id:note.element_id}}\" class=\"post\">{{ note.elementName }}</router-link></span>\r\n          <a  @click=\"addLike(note.element_id)\" :disabled=\"isProcessing\">\r\n           <i class=\"fa-regular fa-heart heart\" v-show=\"!note.isFavorite\"  ></i>\r\n         </a>\r\n         <a   @click=\"deleteLike(note.element_id)\" :disabled=\"isProcessing\" >\r\n          <i class=\"fa-solid fa-heart heart\" v-show=\"note.isFavorite\"></i>\r\n         </a>\r\n          </div>\r\n            <div class=\"close\">\r\n             <button type=\"button\" class=\"btn-close\" aria-label=\"Close\" @click=\"deleteNote(note)\" :disabled=\"isDeleting\"></button>\r\n             </div>\r\n          </div>\r\n          </div>\r\n           </div>\r\n        </div>\r\n   <!-- note start -->\r\n      <div class=\"card frame my-3\" >\r\n          <div class=\" d-flex card-body justify-content-between\">\r\n            <div class=\"content d-flex \">\r\n              <div class=\"author-img\">\r\n                <i class=\"fa-regular fa-circle-user photo\"></i>\r\n              </div>\r\n              <div class=\"author-content pl-4 ps-4\">\r\n                <h5 class=\"mb-3 field card-subtitle\">{{ note.createdAt | fromNow }}</h5>\r\n                <h4 class=\"mb-3 card-text\" v-show=\"currentNote.id !== note.id\">{{ note.content }} </h4>\r\n                <textarea rows=\"5\" class=\"mb-3 card-text new-note\" type=\"text\" required autofocus v-model=\"currentNote.content\" v-show=\"currentNote.id === note.id\" placeholder=\"寫下筆記\"></textarea>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"edit\">\r\n               <button type=\"button\" class=\"edit-button btn btn-outline-secondary mx-2\" aria-label=\"save\" @click=\"saveNote(note)\" :disabled=\"isEditing\" v-show=\"currentNote.id === note.id\">儲存</button>\r\n              <button type=\"button\" class=\"edit-button btn btn-outline-secondary\" aria-label=\"edit\" @click=\"editNote(note)\" v-show=\"currentNote.id !== note.id\">編輯</button>\r\n          </div>\r\n            </div>\r\n        <!-- paragraph end -->\r\n         <!-- Divider-->\r\n            <hr class=\"my-4 horizon\" />\r\n        </div>\r\n  <pagination :currentPage=\"currentPage\" :totalPage=\"totalPage\"/>\r\n</div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport pagination from '../components/pagination.vue'\r\nimport moment from 'moment'\r\nimport userAPI from './../apis/users.js'\r\nimport noteAPI from './../apis/notes.js'\r\nimport { errHandler } from '../utils/helpers'\r\nexport default {\r\n  components: {\r\n    pagination\r\n  },\r\n  data () {\r\n    return {\r\n      notes: [],\r\n      currentNote: {},\r\n      currentPage: 1,\r\n      totalPage: -1,\r\n      errMessage: '',\r\n      isProcessing: false,\r\n      isEditing: false,\r\n      isDeleting: false\r\n    }\r\n  },\r\n  beforeRouteUpdate (to, from, next) {\r\n    const { id } = this.$route.params\r\n    const { page = '' } = to.query\r\n    this.fetchData({ page, id })\r\n    next()\r\n  },\r\n  created () {\r\n    const { id } = this.$route.params\r\n    const { page = '' } = this.$route.query\r\n    this.fetchData({ page, id })\r\n  },\r\n  methods: {\r\n    async fetchData ({ page, id }) {\r\n      try {\r\n        const res = await userAPI.getNotes({ page, id })\r\n        const { data } = res\r\n        if (data.status !== 200) {\r\n          if (data.status === 404) {\r\n            this.errMessage = data.message\r\n            return\r\n          }\r\n          errHandler(data, this.$router)\r\n          return\r\n        }\r\n        this.notes = data.data.notes\r\n        this.currentPage = Number(data.pagination.currentPage)\r\n        this.totalPage = Number(data.pagination.totalPage)\r\n      } catch (err) {\r\n        errHandler({ status: 500 })\r\n      }\r\n    },\r\n    async addLike (id) {\r\n      try {\r\n        this.isProcessing = true\r\n        const res = await userAPI.addFavorite({ id })\r\n        const { data } = res\r\n        console.log(data)\r\n        if (data.status !== 200) {\r\n          errHandler(data, this.$router)\r\n          this.isProcessing = false\r\n          return\r\n        }\r\n        this.notes = this.notes.map(n => {\r\n          if (n.element_id === id) {\r\n            return {\r\n              ...n,\r\n              isFavorite: true\r\n            }\r\n          } else {\r\n            return n\r\n          }\r\n        })\r\n        this.isProcessing = false\r\n      } catch (err) {\r\n        errHandler({ status: 500 })\r\n      }\r\n    },\r\n    async deleteLike (id) {\r\n      try {\r\n        this.isProcessing = true\r\n        const res = await userAPI.deleteFavorite({ id })\r\n        const { data } = res\r\n        if (data.status !== 200) {\r\n          errHandler(data, this.$router)\r\n          this.isProcessing = false\r\n          return\r\n        }\r\n        this.notes = this.notes.map(n => {\r\n          if (n.element_id === id) {\r\n            return {\r\n              ...n,\r\n              isFavorite: false\r\n            }\r\n          } else {\r\n            return n\r\n          }\r\n        })\r\n        this.isProcessing = false\r\n        return\r\n      } catch (err) {\r\n        errHandler({ status: 500 })\r\n      }\r\n    },\r\n    async deleteNote (note) {\r\n      try {\r\n        const id = note.id\r\n        this.isDeleting = true\r\n        const res = await noteAPI.deleteNotes({ id })\r\n        const { data } = res\r\n        if (data.status !== 200) {\r\n          errHandler(data, this.$router)\r\n          this.isDeleting = false\r\n          return\r\n        }\r\n        this.notes = this.notes.filter(n => n.id !== id)\r\n        this.isDeleting = false\r\n      } catch (err) {\r\n        this.isDeleting = false\r\n        errHandler({ status: 500 })\r\n      }\r\n    },\r\n    async saveNote (note) {\r\n      try {\r\n        const { id, content } = this.currentNote\r\n        // 前端驗證\r\n        if (!content) {\r\n          errHandler({ status: 400, message: ['筆記內容不得空白!'] })\r\n          return\r\n        }\r\n        // 呼叫後端\r\n        this.isEditing = true\r\n        const res = await noteAPI.editNotes({ id, content })\r\n        const { data } = res\r\n        if (data.status !== 200) {\r\n          errHandler(data, this.$router)\r\n          this.isEditing = false\r\n          return\r\n        }\r\n        this.notes = this.notes.map(n => {\r\n          if (n.id === id) {\r\n            return {\r\n              ...n,\r\n              content\r\n            }\r\n          } else {\r\n            return n\r\n          }\r\n        })\r\n        this.isEditing = false\r\n        this.currentNote = {}\r\n      } catch (err) {\r\n        this.isEditing = false\r\n        errHandler({ status: 500 })\r\n      }\r\n    },\r\n    editNote (note) {\r\n      this.currentNote = { ...note }\r\n    }\r\n  },\r\n  filters: {\r\n    fromNow (datetime) {\r\n      if (!datetime) {\r\n        return '-'\r\n      }\r\n      return moment(datetime).fromNow()\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style>\r\n.post {\r\n  text-decoration: none;\r\n  padding: 10px;\r\n  color: #535353;\r\n}\r\n\r\n.post-preview {\r\n  text-decoration: none;\r\n}\r\n\r\n.post-title {\r\n  text-decoration: none;\r\n  color: #535353;\r\n  margin-top: 20px;\r\n  margin-bottom: 10px;\r\n  margin-left:150px;\r\n  font-size: 36px;\r\n  font-weight: bold;\r\n}\r\n\r\n.post-subtitle {\r\n  margin-top: 30px;\r\n  margin-left: 5px;\r\n  margin-bottom: 30px;\r\n  text-decoration: none;\r\n  color: #789;\r\n}\r\n\r\n.heart {\r\n  color: #535353;\r\n  margin-left: 50px;\r\n  margin-top:40px;\r\n  width: 20px;\r\n  height: 20px\r\n}\r\n.new-note{\r\n  padding-top:4px;\r\n  font-size: 20px;\r\n  width:700px;\r\n  border:none;\r\n}\r\n.notes{\r\n  margin: 0 auto;\r\n}\r\n.frame {\r\n  width: 950px;\r\n  margin: 0 auto;\r\n  border-color: #789;\r\n  border-radius: 20px;\r\n  -moz-border-radius: 20px;\r\n  -webkit-border-radius: 20px;\r\n  -o-border-radius: 20px;\r\n  -ms-border-radius: 20px;\r\n  padding:8px 8px;\r\n  }\r\n  .rank-title {\r\n  color: #A48500;\r\n  font-size: 20px;\r\n  font-weight: bold;\r\n}\r\n.rank {\r\n  color: #A48500;\r\n}\r\n\r\n.text-capitalize {\r\n  text-decoration: none;\r\n  color: #535353;\r\n}\r\n\r\n.paragraph {\r\n  font-size: large;\r\n  white-space: pre-line;\r\n}\r\n\r\n.field {\r\n  color: #A48500;\r\n  font-size: 15px;\r\n  font-weight: bold;\r\n}\r\n\r\n.h {\r\n  width: 1020px;\r\n}\r\nabbr{\r\n color:#A48500;\r\n}\r\n.photo{\r\n  font-size:30px;\r\n  color:#789;\r\n  font-weight:100;\r\n}\r\n.close{\r\n  margin-right:100px;\r\n}\r\n.save-button{\r\n  background-color: white;\r\n  border-color:#789;\r\n}\r\n.edit{\r\n  display:flex;\r\n  justify-content:end;\r\n  margin-bottom:8px;\r\n  padding-right:8px;\r\n}\r\n.horizon{\r\n  width:950px;\r\n  margin:0 auto;\r\n}\r\n.err{\r\n  color:#535353;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./notes.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./notes.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./notes.vue?vue&type=template&id=e7694d9a&\"\nimport script from \"./notes.vue?vue&type=script&lang=js&\"\nexport * from \"./notes.vue?vue&type=script&lang=js&\"\nimport style0 from \"./notes.vue?vue&type=style&index=0&id=e7694d9a&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./notes.vue?vue&type=style&index=0&id=e7694d9a&prod&lang=css&\""],"sourceRoot":""}